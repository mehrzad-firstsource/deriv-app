(window.webpackJsonp=window.webpackJsonp||[]).push([["account-signup-modal"],{647:function(e,t,n){"use strict";var r=n(217),a=n.n(r),i=(n(311),n(25)),o=n.n(i),s=(n(51),n(26)),c=n.n(s),l=(n(52),n(219)),u=n.n(l),p=(n(314),n(14)),d=n(2),f=n.n(d),b=n(0),_=n.n(b),m=n(1);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e){var t=e.class_prefix,n=void 0===t?"set-residence":t,r=e.children,i=e.header_text,s=e.errors,l=e.touched,d=e.setFieldTouched,f=e.setFieldValue,b=e.residence_list;return _.a.createElement("div",{className:"".concat(n,"__residence-selection")},!!i&&_.a.createElement("p",{className:"".concat(n,"__heading")},i),_.a.createElement("p",{className:"".concat(n,"__").concat(i?"text":"heading")},Object(m.localize)("Where do you live?")),_.a.createElement(p.a,{name:"residence"},(function(e){var t=e.field;return _.a.createElement(_.a.Fragment,null,_.a.createElement(o.a,null,_.a.createElement(a.a,g({},t,{autoComplete:"off",className:"".concat(n,"__residence-field"),dropdown_offset:"3.2rem",type:"text",label:Object(m.localize)("Choose country"),error:l.residence&&s.residence,required:!0,list_items:b,onItemSelection:function(e){var t=e.value,n=e.text;return f("residence",t?n:"",!0)}}))),_.a.createElement(c.a,null,_.a.createElement(u.a,{label:Object(m.localize)("Choose country"),value:t.value,list_items:b,error:l.residence&&s.residence,required:!0,use_text:!0,onChange:function(e){d("residence",!0),f("residence",e.target.value,!0)}})))})),r)};y.propTypes={children:f.a.node,class_prefix:f.a.string,header_text:f.a.string,residence_list:f.a.arrayOf(f.a.object)},t.a=y},697:function(e,t,n){},709:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),i=n(10),o=n.n(i),s=(n(28),n(168)),c=n.n(s),l=(n(216),n(639)),u=n.n(l),p=(n(640),n(641)),d=n.n(p),f=(n(643),n(14)),b=n(2),_=n.n(b),m=n(0),g=n.n(m),y=n(1),v=n(8),w=n(61),h=n(68),O=n(647);n(697);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z={password:"",residence:""},T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=A(this,(e=C(t)).call.apply(e,[this].concat(a)))).state={has_valid_residence:!1,pw_input:""},n.updatePassword=function(e){n.setState({pw_input:e})},n.onResidenceSelection=function(){n.setState({has_valid_residence:!0})},n.onSignupComplete=function(e){if(e)throw Error(e);n.props.isModalVisible(!1),n.props.enableApp()},n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.onSignup,r=t.residence_list;return g.a.createElement("div",{className:"account-signup"},g.a.createElement(f.c,{initialValues:z,validate:function(e){return function(e,t){var n={};if(e.password&&(e.password.length<6||!Object(w.c)(e.password))&&(n.password=!0),e.residence){var r=t.findIndex((function(t){return t.text.toLowerCase()===e.residence.toLowerCase()}));-1!==r&&"DISABLED"!==t[r].disabled||(n.residence=Object(y.localize)("Unfortunately, {{website_name}} is not available in your country.",{website_name:h.website_name}))}else n.residence=!0;return n}(e,r)},onSubmit:function(t){var a=r.findIndex((function(e){return e.text.toLowerCase()===t.residence.toLowerCase()})),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{residence:r[a].value});n(i,e.onSignupComplete)}},(function(t){var n=t.isSubmitting,i=t.handleBlur,s=t.errors,c=t.handleChange,l=t.values,p=t.setFieldValue,b=t.setFieldTouched,_=t.touched;return g.a.createElement(f.b,null,g.a.createElement(g.a.Fragment,null,e.state.has_valid_residence?g.a.createElement("div",{className:"account-signup__password-selection"},g.a.createElement("p",{className:"account-signup__heading"},g.a.createElement(y.Localize,{i18n_default_text:"Keep your account secure with a password"})),g.a.createElement(f.a,{name:"password"},(function(t){var n=t.field;return g.a.createElement(d.a,{input:e.state.pw_input,error:_.password&&s.password},g.a.createElement(u.a,E({},n,{className:"account-signup__password-field",label:Object(y.localize)("Create a password"),error:_.password&&s.password,required:!0,value:l.password,onBlur:i,onChange:function(t){var n=t.target;b("password",!0),n&&e.updatePassword(n.value),c(t)}})))})),g.a.createElement("p",{className:"account-signup__subtext"},g.a.createElement(y.Localize,{i18n_default_text:"Strong passwords contain at least 6 characters, combine uppercase and lowercase letters, numbers, and symbols."})),g.a.createElement(o.a,{className:a()("account-signup__btn",{"account-signup__btn--disabled":!l.password||s.password||n}),type:"submit",is_disabled:!l.password||!!s.password||n,text:Object(y.localize)("Start trading"),primary:!0})):g.a.createElement(O.a,{header_text:Object(y.localize)("Thanks for verifying your email"),class_prefix:"account-signup",errors:s,touched:_,setFieldTouched:b,setFieldValue:p,residence_list:r},g.a.createElement(o.a,{className:a()("account-signup__btn",{"account-signup__btn--disabled":!l.residence||s.residence}),type:"button",is_disabled:!l.residence||!!s.residence,onClick:e.onResidenceSelection,primary:!0,text:Object(y.localize)("Next")}))))})))}}])&&P(n.prototype,r),i&&P(n,i),t}(g.a.Component);T.propTypes={onSignup:_.a.func,residence_list:_.a.array};var F=function(e){var t=e.enableApp,n=e.disableApp,r=e.is_loading,a=e.is_visible,i=e.onSignup,o=e.residence_list,s=e.toggleAccountSignupModal;return g.a.createElement(c.a,{is_visible:a,disableApp:n,enableApp:t,is_loading:r||!o.length,is_mobile_full_width:!1,is_content_centered:!0},g.a.createElement(T,{onSignup:i,residence_list:o,isModalVisible:s,enableApp:t}))};F.propTypes={disableApp:_.a.func,enableApp:_.a.func,is_loading:_.a.bool,is_visible:_.a.bool,onSignup:_.a.func,residence_list:_.a.arrayOf(_.a.object)};var k=Object(v.b)((function(e){var t=e.ui,n=e.client;return{is_visible:t.is_account_signup_modal_visible,toggleAccountSignupModal:t.toggleAccountSignupModal,enableApp:t.enableApp,disableApp:t.disableApp,is_loading:t.is_loading,onSignup:n.onSignup,residence_list:n.residence_list}}))(F);n.d(t,"default",(function(){return k}))}}]);
//# sourceMappingURL=core.account-signup-modal.640a2d477d094e6abd4c.js.map