(window.webpackJsonp=window.webpackJsonp||[]).push([["reset-password-modal"],{708:function(e,t,r){"use strict";r.r(t);var a=r(0),o=r.n(a),n=r(2),s=r.n(n),i=r(6),l=r.n(i),c=r(14),p=r(10),u=r.n(p),d=(r(28),r(168)),f=r.n(d),m=(r(216),r(639)),_=r.n(m),w=(r(640),r(641)),b=r.n(w),g=(r(643),r(1)),v=r(8),y=r(61),h=r(47),E=r(13);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,r,a,o,n,s){try{var i=e[n](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,o)}function O(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j={password:""},x=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(r=A(this,(e=R(t)).call.apply(e,[this].concat(o)))).onResetComplete=function(e,t){if(t.setSubmitting(!1),t.resetForm({password:""}),e)return console.error(e),void t.setStatus({error_msg:e});t.setStatus({reset_complete:!0}),r.props.logoutClient().then((function(){Object(h.redirectToLogin)()}))},r.handleSubmit=function(e,t){var a=r.props.verification_code,o={reset_password:1,new_password:e.password,verification_code:a};E.b.resetPassword(o).then(function(){var e,a=(e=regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.error?r.onResetComplete(a.error.message,t):r.onResetComplete(null,t);case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,o){var n=e.apply(t,r);function s(e){C(n,a,o,s,i,"next",e)}function i(e){C(n,a,o,s,i,"throw",e)}s(void 0)}))});return function(e){return a.apply(this,arguments)}}())},r.validateReset=function(e){var t={};return e.password&&(e.password.length<6||!Object(y.c)(e.password))&&(t.password=!0),t},r}var r,a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"reset-password"},o.a.createElement(c.c,{initialValues:j,initialStatus:{reset_complete:!1,error_msg:""},validate:this.validateReset,onSubmit:this.handleSubmit},(function(e){var t=e.handleBlur,r=e.errors,a=e.values,n=e.touched,s=e.isSubmitting,i=e.handleChange,p=e.status;return o.a.createElement(c.b,null,o.a.createElement(o.a.Fragment,null,p.reset_complete?o.a.createElement("div",{className:"reset-password__password-selection"},o.a.createElement("p",{className:"reset-password__heading"},o.a.createElement(g.Localize,{i18n_default_text:"Your password has been changed"})),o.a.createElement("p",{className:"reset-password__subtext"},o.a.createElement(g.Localize,{i18n_default_text:"We will now redirect you to the login page."}))):o.a.createElement("div",{className:"reset-password__password-selection"},o.a.createElement("p",{className:"reset-password__heading"},o.a.createElement(g.Localize,{i18n_default_text:"Choose a new password"})),o.a.createElement("fieldset",{className:"reset-password__fieldset"},o.a.createElement(b.a,{input:a.password,error:n.password&&r.password},o.a.createElement(_.a,{className:"reset-password__password-field",name:"password",label:Object(g.localize)("Create a password"),onChange:i,onBlur:t,error:n.password&&r.password,value:a.password,"data-lpignore":"true",required:!0}))),o.a.createElement("p",{className:"reset-password__subtext"},p.error_msg?o.a.createElement(g.Localize,{i18n_default_text:"{{error_msg}}",values:{error_msg:p.error_msg}}):o.a.createElement(g.Localize,{i18n_default_text:"Strong passwords contain at least 6 characters, combine uppercase and lowercase letters, numbers, and symbols."})),o.a.createElement(u.a,{className:l()("reset-password__btn",{"reset-password__btn--disabled":!a.password||r.password||s}),type:"submit",is_disabled:!a.password||r.password||s,primary:!0},o.a.createElement(g.Localize,{i18n_default_text:"Reset my password"})))))})))}}])&&O(r.prototype,a),n&&O(r,n),t}(o.a.Component);x.propTypes={enableApp:s.a.func,isModalVisible:s.a.func,verification_code:s.a.string};var N=function(e){var t=e.enableApp,r=e.disableApp,a=e.is_loading,n=e.is_visible,s=e.logoutClient,i=e.verification_code,l=e.toggleResetPasswordModal;return o.a.createElement(f.a,{is_visible:n,disableApp:r,enableApp:t,is_loading:a},o.a.createElement(x,{verification_code:i,isModalVisible:l,enableApp:t,logoutClient:s}))};N.propTypes={disableApp:s.a.func,enableApp:s.a.func,is_loading:s.a.bool,is_visible:s.a.bool,logoutClient:s.a.func,toggleResetPasswordModal:s.a.func,verification_code:s.a.string};var z=Object(v.b)((function(e){var t=e.ui,r=e.client;return{is_visible:t.is_reset_password_modal_visible,enableApp:t.enableApp,disableApp:t.disableApp,is_loading:t.is_loading,logoutClient:r.logout,toggleResetPasswordModal:t.toggleResetPasswordModal,verification_code:r.verification_code.reset_password}}))(N);r.d(t,"default",(function(){return z}))}}]);
//# sourceMappingURL=core.reset-password-modal.1ce05c42d53bf00c4e46.js.map